{"version":3,"file":"Bluetooth.types.js","sourceRoot":"","sources":["../src/Bluetooth.types.ts"],"names":[],"mappings":"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","sourcesContent":["export type RSSI = number;\nexport type MTU = number;\nexport type Base64 = string;\nexport type UUID = string;\nexport type Identifier = string;\nexport type OperationId = string;\n\nexport enum BondState {\n  Bonded = 'bonded',\n  Bonding = 'bonding',\n  Unknown = 'unknown',\n  None = 'none',\n}\n\nexport enum Priority {\n  High = 'high',\n  LowPower = 'lowPower',\n  Balanced = 'balanced',\n}\n\nexport enum CentralState {\n  Unknown = 'unknown',\n  Resetting = 'resetting',\n  Unsupported = 'unsupported',\n  Unauthorized = 'unauthorized',\n  PoweredOff = 'poweredOff',\n  PoweredOn = 'poweredOn',\n}\n\nexport enum DeviceType {\n  Central = 'central',\n  Peripheral = 'peripheral',\n  Descriptor = 'descriptor',\n  Service = 'service',\n  Characteristic = 'characteristic',\n  Peer = 'peer',\n  L2CAPChannel = 'L2CAPChannel',\n}\n\nexport enum AndroidCentralState {\n  poweringOff = 'poweringOff',\n  poweredOff = 'poweredOff',\n  poweringOn = 'poweringOn',\n  poweredOn = 'poweredOn',\n  unknown = 'unknown',\n}\n\nexport enum PeripheralState {\n  Disconnected = 'disconnected',\n  Connecting = 'connecting',\n  Connected = 'connected',\n  Disconnecting = 'disconnecting',\n  Unknown = 'unknown',\n}\n\nexport enum AndroidAdapterScanMode {\n  none = 'none',\n  connectable = 'connectable',\n  discoverable = 'discoverable',\n}\n\nexport enum AndroidScanCallbackType {\n  /**\n   * Trigger a callback for every Bluetooth advertisement found that matches the filter criteria.\n   * If no filter is active, all advertisement packets are reported.\n   */\n  allMatches = 'allMatches',\n\n  /**\n   * A result callback is only triggered for the first advertisement packet received that matches\n   * the filter criteria.\n   */\n  firstMatch = 'firstMatch',\n\n  /**\n   * Receive a callback when advertisements are no longer received from a device that has been\n   * previously reported by a first match callback.\n   */\n  matchLost = 'MATCH_LOST',\n}\n\nexport enum AndroidScanMode {\n  lowLatency = 'lowLatency',\n  lowPower = 'lowPower',\n  balanced = 'balanced',\n  opportunistic = 'opportunistic',\n}\n\n/** Android M 23+ */\nexport enum AndroidMatchMode {\n  Aggresive = 'aggresive', // default\n  Sticky = 'sticky',\n}\n\n/** Android O 26+ */\nexport enum AndroidPhyMode {\n  LE1M = 'LE1M',\n  LE2M = 'LE2M',\n  Coded = 'coded',\n  AllSupported = 'allSupported', // default\n}\n\n/** Android M 23+ */\nexport enum AndroidNumberOfMatches {\n  max = 'max', // default\n  one = 'one',\n  few = 'few',\n}\n\nexport enum OperationType {\n  get = 'get',\n  rssi = 'rssi',\n  connect = 'connect',\n  disconnect = 'disconnect',\n  scan = 'scan',\n}\n\nexport enum CharacteristicProperty {\n  /**\n   * Permits broadcasts of the characteristic value using a characteristic configuration descriptor.\n   * Not allowed for local characteristics.\n   */\n  Broadcast = 'broadcast',\n  /** Permits reads of the characteristic value. */\n  Read = 'read',\n  /** Permits writes of the characteristic value, without a response. */\n  WriteWithoutResponse = 'writeWithoutResponse',\n  /** Permits writes of the characteristic value. */\n  Write = 'write',\n  /** Permits notifications of the characteristic value, without a response. */\n  Notify = 'notify',\n  /** Permits indications of the characteristic value. */\n  Indicate = 'indicate',\n  /** Permits signed writes of the characteristic value */\n  AutheticateSignedWrites = 'autheticateSignedWrites',\n  /* If set, additional characteristic properties are defined in the characteristic extended properties descriptor.\n   * Not allowed for local characteristics.\n   */\n  ExtendedProperties = 'extendedProperties',\n  /** If set, only trusted devices can enable notifications of the characteristic value. */\n  NotifyEncryptionRequired = 'notifyEncryptionRequired',\n  /** If set, only trusted devices can enable indications of the characteristic value. */\n  IndicateEncryptionRequired = 'indicateEncryptionRequired',\n}\n\n/** Read, write, and encryption permissions for an ATT attribute. Can be combined. */\nexport enum Permissions {\n  /** Read-only. */\n  Readable = 'Readable',\n  /** Write-only. */\n  Writeable = 'Writeable',\n  /** Readable by trusted devices. */\n  ReadEncryptionRequired = 'ReadEncryptionRequired',\n  /** Writeable by trusted devices. */\n  WriteEncryptionRequired = 'WriteEncryptionRequired',\n}\n\n/* Types */\n\nexport interface BluetoothElement {\n  id: Identifier;\n  uuid: UUID;\n  // TODO: Bacon: Maybe add a type like peripheral, service, characteristc, descriptor\n}\n\nexport interface Descriptor extends BluetoothElement {\n  characteristicUUID: UUID;\n  value?: Base64;\n}\n\nexport type EventData = {\n  operationId?: OperationId;\n  peripheral?: Peripheral | null;\n  peripherals?: Peripheral[];\n  characteristic?: Characteristic | null;\n  central?: Central | null;\n  descriptor?: Descriptor | null;\n  service?: Service | null;\n  advertisementData?: AdvertismentData | null;\n  RSSI?: RSSI;\n  error?: NativeError | null;\n};\n\nexport interface NativeError {\n  message: string;\n  code: string;\n  stack?: string;\n}\n\nexport interface Characteristic extends BluetoothElement {\n  serviceUUID: UUID;\n  peripheralUUID: UUID;\n  properties: string[]; // TODO: Bacon: more specific\n  descriptors: Descriptor[];\n  value: Base64 | null;\n  isNotifying: boolean;\n}\n\nexport interface Service extends BluetoothElement {\n  peripheralUUID: UUID;\n  isPrimary: boolean;\n  includedServices: Service[];\n  characteristics: Characteristic[];\n}\n\nexport interface AdvertismentData {\n  manufacturerData: Base64 | null;\n  serviceData: { [uuid: string]: Base64 } | null;\n  serviceUUIDs: UUID[] | null;\n  localName: string | null;\n  txPowerLevel: number | null;\n  solicitedServiceUUIDs: UUID[] | null;\n  isConnectable: boolean | null;\n  overflowServiceUUIDs: UUID[] | null;\n}\n\nexport interface Peripheral extends BluetoothElement {\n  advertisementData?: AdvertismentData;\n  name: string | null;\n  RSSI: RSSI | null;\n  state: PeripheralState;\n  services: Service[];\n  includedServices: Service[];\n  /**\n   * **ios**\n   */\n  canSendWriteWithoutResponse?: boolean;\n  /**\n   * **Android**\n   */\n  bondState?: BondState;\n  // mtu: number;\n  // JS\n  discoveryTimestamp?: number;\n}\n\nexport type PeripheralFoundCallback = (peripheral: Peripheral) => void;\n\nexport type StateUpdatedCallback = (state: CentralState) => void;\n\nexport type ScanSettings = {\n  serviceUUIDsToQuery?: UUID[];\n  scanningOptions?: any; //TODO: Bacon: This is where the iOS multi-scan value would be defined.\n  callback?: PeripheralFoundCallback;\n};\n\nexport interface Central {\n  state: CentralState;\n  isScanning: boolean;\n}\n\nexport type UpdateDescriptorOptions = {\n  descriptorUUID?: UUID;\n};\n\nexport type UpdateOptions = {\n  peripheralUUID: UUID;\n  serviceUUID: UUID;\n  characteristicUUID: UUID;\n};\n\nexport type UpdateCharacteristicOptions = UpdateOptions & {\n  isEnabled?: boolean;\n};\n\nexport type ReadCharacteristicOptions = UpdateCharacteristicOptions;\n\nexport type WriteCharacteristicOptions = UpdateCharacteristicOptions & {\n  data: Base64;\n};\n\nexport type OperationHandler = any; // { callbacks: Array<Function | Prom> } | Prom;\n\nexport type ScanOptions = {\n  serviceUUIDsToQuery?: UUID[];\n\n  /**\n   * `CBCentralManagerScanOptionAllowDuplicatesKey`\n   *\n   * Indicating that the scan should run without duplicate filtering.\n   * By default, multiple discoveries of the same peripheral are coalesced\n   * into a single discovery event.\n   *\n   * Specifying this option will cause a discovery event to be generated\n   * every time the peripheral is seen, which may be many times per second.\n   * This can be useful in specific situations, such as making a connection based on\n   * a peripheral's RSSI, but may have an adverse affect on battery-life and application performance.\n   */\n  iosAllowDuplicates?: boolean;\n  /**\n   * `CBCentralManagerScanOptionSolicitedServiceUUIDsKey`\n   * An array of UUIDs respresenting service UUIDs.\n   * This causes the scan to also look for peripherals soliciting any of the services contained in the list.\n   */\n  iosSolicitedServiceUUIDs?: UUID[];\n\n  androidCallbackType?: AndroidScanCallbackType;\n\n  androidScanMode?: AndroidScanMode;\n  /** M (23+) */\n  androidMatchMode?: AndroidMatchMode;\n  /**\n   * M (23+)\n   * Match as many advertisement per filter as hw could allow\n   * dependes on current capability and availability of the resources in hw.\n   */\n  androidNumberOfMatches?: AndroidNumberOfMatches;\n  /** Oreo (26+) */\n  androidOnlyConnectable?: boolean;\n  /**\n   * Oreo (26+)\n   * This value will only be used if `androidPhy` is undefined.\n   */\n  androidUseLegacy?: boolean;\n  /**\n   * Oreo (26+)\n   * When defined, `androidUseLegacy` is automatically set to `false`.\n   */\n  androidPhy?: AndroidPhyMode;\n};\n\nexport type CentralManagerOptions = {\n  /**\n   * `CBCentralManagerOptionShowPowerAlertKey`\n   * If this is toggled on, and the Bluetooth manager is powered off, then the system will display a warning dialog to the user.\n   */\n  showPowerAlert?: boolean;\n  /**\n   * **UNSUPPORTED**\n   * `CBCentralManagerOptionRestoreIdentifierKey`\n   * A `string` containing a unique identifier (UID) for the `CBCentralManager` that is being instantiated.\n   * This UID is used by the system to identify a specific `CBCentralManager` instance for restoration and,\n   * therefore, must remain the same for subsequent application executions\n   * in order for the manager to be restored.\n   */\n  restorationId?: string;\n};\n\nexport type CancelScanningCallback = () => void;\n\nexport type PeripheralConnectionOption = {\n  /**\n   * **Android**\n   * Should be used for _reconnecting_ to devices that have already\n   * been connected (then disconnected) **without** `shouldAutoConnect` enabled.\n   */\n  shouldAutoConnect?: boolean;\n\n  /**\n   * `CBConnectPeripheralOptionNotifyOnConnectionKey`\n   * A Boolean value that specifies whether the system should display an alert for a given peripheral if the app is suspended when a successful connection is made.\n   * The value for this key is an NSNumber object. This key is useful for apps that have not specified the bluetooth-central background mode and cannot display their own alert. If more than one app has requested notification for a given peripheral, the one that was most recently in the foreground receives the alert. If the key is not specified, the default value is false.\n   */\n  shouldAlertConnection?: boolean;\n  /**\n   * `CBConnectPeripheralOptionNotifyOnDisconnectionKey`\n   * A Boolean value that specifies whether the system should display a disconnection alert for a given peripheral if the app is suspended at the time of the disconnection.\n   * The value for this key is an NSNumber object. This key is useful for apps that have not specified the bluetooth-central background mode and cannot display their own alert. If more than one app has requested notification for a given peripheral, the one that was most recently in the foreground receives the alert. If the key is not specified, the default value is false.\n   */\n  shouldAlertDisconnection?: boolean;\n\n  /**\n   * `CBConnectPeripheralOptionNotifyOnNotificationKey`\n   * A Boolean value that specifies whether the system should display an alert for all notifications received from a given peripheral if the app is suspended at the time.\n   * The value for this key is an NSNumber object. This key is useful for apps that have not specified the bluetooth-central background mode and cannot display their own alert. If more than one app has requested notification for a given peripheral, the one that was most recently in the foreground receives the alert. If the key is not specified, the default value is false.\n   */\n  shouldAlertNotification?: boolean;\n\n  /**\n   * `CBConnectPeripheralOptionStartDelayKey`\n   *\n   */\n  startDelay?: number;\n};\n\nexport type ConnectionOptions = {\n  timeout?: number;\n  onDisconnect?: (...args: any[]) => any;\n};\n"]}